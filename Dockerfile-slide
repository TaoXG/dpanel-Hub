# 已预装OpenCV和依赖，无需手动编译
FROM ultralytics/yolov5:latest-python3.9

WORKDIR /app

# 仅安装bottle（OpenCV和numpy已预装）
RUN pip install --no-cache-dir --user bottle==0.12.25 -i https://pypi.tuna.tsinghua.edu.cn/simple

COPY slide.py .
EXPOSE 3001
CMD ["python", "-u", "slide.py"]
