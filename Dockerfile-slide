# 超轻量Python镜像，无任何编译依赖
FROM python:3.9-slim-bullseye

WORKDIR /app

# 仅安装PIL和bottle（无需系统依赖）
RUN pip install --no-cache-dir -i https://pypi.tuna.tsinghua.edu.cn/simple \
    pillow==10.0.1 \
    numpy==1.23.5 \
    bottle==0.12.25

# 复制脚本
COPY slide.py .

# 暴露端口
EXPOSE 3001

# 启动命令
CMD ["python", "-u", "slide.py"]
